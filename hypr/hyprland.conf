#####
#
#####

# 1366x768 laptop setup
monitor=eDP-1,1366x768,0x0,1

input {
    kb_layout=
    follow_mouse=2 # Loose
    touchpad {
        disable_while_typing=1
        natural_scroll=1
        tap-to-click=1
    }
}

general {
    sensitivity=1.0
    main_mod=SUPER
    gaps_in=2
    gaps_out=4
    border_size=1
    no_border_on_floating=0
    col.active_border=0xff0da9c8
    # col.active_border=0xff04323f
    col.inactive_border=0xff080808

    apply_sens_to_raw=0 # whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)

    damage_tracking=full # leave it on full unless you hate your GPU and want to make it suffer
    layout = dwindle
}

decoration {
    rounding=2
    multisample_edges=true
    blur=true
    active_opacity=1.0
    inactive_opacity=0.95
    fullscreen_opacity=1.0
    drop_shadow=1
    shadow_range=15
    col.shadow=0xdf000000
    col.shadow_inactive=0xdf000000
}

animations {
    enabled=1
    animation=windows,1,2.5,default,slide
    animation=border,1,2.5,default
    animation=fade,1,2.5,default
    animation=workspaces,1,2.5,default
}

dwindle {
    pseudotile=0
    no_gaps_when_only=1
}

gestures {
    workspace_swipe=1
    workspace_swipe_fingers=3
}

misc {
    layers_hog_keyboard_focus=true
}

# windowrule=float,Rofi
windowrule=float,title:.*Open.*
windowrule=float,title:.*Save.*
windowrule=float,title:.*Preference.*
windowrule=float,title:.*Tor Browser.*
windowrule=float,pinentry.*
windowrule=tile,apparatus2

# windowrule=workspace 5 silent,pcmanfm-qt


# Keybindings
# General

bind=SUPERSHIFT,Q,exit,
bind=SUPERSHIFT,R,exec,hyprctl reload
# bind=SUPER,b,exec,pkill -10 waybar # Hide/Show bar
# bind=SUPERSHIFT,b,exec,sh -c "pkill -12 waybar || waybar -c ~/.config/waybar/config-hyprland.jsonc -s ~/.config/waybar/style-hyprland.css" # Reload waybar configuration
# bind=SUPERSHIFT,b,exec,sh -c 'pkill -SIGTERM -f "python3 listen" && eww -c ~/.config/hypr/eww reload'
bind=SUPERSHIFT,b,exec,sh -c 'eww -c ~/.config/hypr/eww reload'

# Launcher

bind=SUPER,RETURN,exec,alacritty
bind=SUPER,P,exec,rofi -show drun -theme ~/.config/hypr/rofi-themes/launcher.rasi &
# bind=SUPER,P,exec,~/.config/scripts/run-menu drun
bind=SUPER,R,exec,~/.config/scripts/run-menu run
bind=SUPERSHIFT,P,exec,~/.config/scripts/run-menu power
bind=SUPERCONTROL,P,exec,~/.config/scripts/run-menu pass
bind=SUPER,A,exec,pcmanfm-qt
bind=SUPER,C,exec,~/.config/scripts/pick-color-wl

# Window

bind=SUPERSHIFT,C,killactive,
bind=SUPER,F,fullscreen,0
bind=SUPER,M,fullscreen,1
bind=SUPER,N,pseudo
bind=SUPER,V,togglefloating,

bind=SUPER,left,movefocus,l
bind=SUPER,right,movefocus,r
bind=SUPER,up,movefocus,u
bind=SUPER,down,movefocus,d

bind=SUPER,Tab,cyclenext,
# bind=SUPER,Tab,movefocus,r

bind=SUPERSHIFT,left,movewindow,l
bind=SUPERSHIFT,right,movewindow,r
bind=SUPERSHIFT,up,movewindow,u
bind=SUPERSHIFT,down,movewindow,d

bind=SUPER,h,movefocus,l
bind=SUPER,l,movefocus,r
bind=SUPER,k,movefocus,u
bind=SUPER,j,movefocus,d

bind=SUPERSHIFT,h,movewindow,l
bind=SUPERSHIFT,l,movewindow,r
bind=SUPERSHIFT,k,movewindow,u
bind=SUPERSHIFT,j,movewindow,d

bind=SUPERCONTROL,h,resizeactive,-20 0
bind=SUPERCONTROL,l,resizeactive,20 0
bind=SUPERCONTROL,k,resizeactive,0 -20
bind=SUPERCONTROL,j,resizeactive,0 20

bind=SUPERCONTROL,left,resizeactive,-20 0
bind=SUPERCONTROL,right,resizeactive,20 0
bind=SUPERCONTROL,up,resizeactive,0 -20
bind=SUPERCONTROL,down,resizeactive,0 20

bind=SUPER,semicolon,submap,resize

submap=resize

bind=,h,resizeactive,-20 0
bind=,l,resizeactive,20 0
bind=,k,resizeactive,0 -20
bind=,j,resizeactive,0 20

bind=,left,resizeactive,-20 0
bind=,right,resizeactive,20 0
bind=,up,resizeactive,0 -20
bind=,down,resizeactive,0 20

bind=SUPER,semicolon,submap,reset
bind=,escape,submap,reset

submap=reset

bind=SUPERSHIFT,v,submap,passthrough

submap=passthrough

bind=SUPER,escape,submap,reset

submap=reset

bind=SUPER,g,togglegroup,
bind=SUPERSHIFT,ISO_Left_Tab,changegroupactive,f
bind=SUPER,comma,changegroupactive,b
bind=SUPER,period,changegroupactive,f

# Workspace

bind=SUPER,Prior,workspace,-1
bind=SUPER,Next,workspace,+1

bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10

bind=SUPERSHIFT,exclam,movetoworkspace,1
bind=SUPERSHIFT,at,movetoworkspace,2
bind=SUPERSHIFT,numbersign,movetoworkspace,3
bind=SUPERSHIFT,dollar,movetoworkspace,4
bind=SUPERSHIFT,percent,movetoworkspace,5
bind=SUPERSHIFT,asciicircum,movetoworkspace,6
bind=SUPERSHIFT,ampersand,movetoworkspace,7
bind=SUPERSHIFT,asterisk,movetoworkspace,8
bind=SUPERSHIFT,parenleft,movetoworkspace,9
bind=SUPERSHIFT,parenright,movetoworkspace,10

# Screenshot

bind=,print,exec,~/.config/scripts/screenshot-wl
bind=SHIFT,print,exec,~/.config/scripts/screenshot-wl select
bind=CONTROL,print,exec,~/.config/scripts/screenshot-wl active-window


# Volume and Media Control

bind=,XF86AudioLowerVolume,exec,~/.config/scripts/vol lower
bind=,XF86AudioRaiseVolume,exec,~/.config/scripts/vol raise
bind=,XF86AudioMute,exec,~/.config/scripts/vol toggle

bind=SUPER,bracketleft,exec,~/.config/scripts/vol lower
bind=SUPER,bracketright,exec,~/.config/scripts/vol raise
bind=SUPER,backslash,exec,~/.config/scripts/vol toggle

bind=SUPERSHIFT,bracketleft,exec,~/.config/scripts/player prev
bind=SUPERSHIFT,bracketright,exec,~/.config/scripts/player next
bind=SUPERSHIFT,backslash,exec,~/.config/scripts/player toggle

# Brightness

bind=,XF86MonBrightnessDown,exec,~/.config/scripts/brightness lower
bind=,XF86MonBrightnessUp,exec,~/.config/scripts/brightness raise

bind=SUPERCONTROL,bracketleft,exec,~/.config/scripts/brightness lower
bind=SUPERCONTROL,bracketright,exec,~/.config/scripts/brightness raise

workspace=eDP-1,1

exec-once=dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=swaybg -i ~/Pictures/Backgrounds/FYysz3TXgAEW042.jpg -m fill
exec-once=nm-applet --indicator
exec-once=lxpolkit
exec-once=systemctl --user start xdg-desktop-portal-wlr
exec-once=eww -c ~/.config/hypr/eww --debug daemon
exec-once=eww -c ~/.config/hypr/eww open panel
